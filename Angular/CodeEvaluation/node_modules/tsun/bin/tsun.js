"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var tslib = require("tslib");
var util_1 = require("./src/util");
util_1.assign(global, tslib);
require("./src/register");
var executor_1 = require("./src/executor");
var repl_1 = require("./src/repl");
var options = require('optimist')
    .usage("A TypeScript REPL. Usage:\n  " + 'tsun'.blue + " [options] [script.ts]")
    .alias('h', 'help')
    .describe('h', 'Print this help message')
    .alias('o', 'out')
    .describe('o', 'output directory relative to temporary')
    .describe('dere', "I-its's not like I'm an option so DON'T GET THE WRONG IDEA!");
var argv = options.argv;
if (argv._.length === 1) {
    executor_1.runCode(argv);
}
if (argv.h) {
    options.showHelp();
    process.exit(1);
}
if (!argv.dere) {
    console.log('TSUN'.blue, ': TypeScript Upgraded Node');
    console.log('type in TypeScript expression to evaluate');
    console.log('type', ':help'.blue.bold, 'for commands in repl');
}
else {
    console.log('TSUN'.magenta, " I'm- I'm not making this repl because I like you or anything!");
    console.log("don'... don't type ", ':help'.magenta.bold, ', okay? Idiot!');
}
console.log('');
repl_1.startRepl();
